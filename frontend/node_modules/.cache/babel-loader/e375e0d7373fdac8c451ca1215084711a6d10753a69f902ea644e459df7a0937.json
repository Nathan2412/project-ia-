{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card movie-card h-100\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"poster-container\"\n};\nconst _hoisted_3 = [\"src\", \"alt\"];\nconst _hoisted_4 = {\n  key: 1,\n  class: \"movie-poster-placeholder card-img-top d-flex justify-content-center align-items-center bg-light\"\n};\nconst _hoisted_5 = {\n  class: \"card-body d-flex flex-column\"\n};\nconst _hoisted_6 = {\n  class: \"movie-title\"\n};\nconst _hoisted_7 = {\n  class: \"movie-info\"\n};\nconst _hoisted_8 = {\n  class: \"star-rating\"\n};\nconst _hoisted_9 = {\n  class: \"movie-genres mb-2\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"mb-2\"\n};\nconst _hoisted_11 = {\n  class: \"movie-overview flex-grow-1\"\n};\nconst _hoisted_12 = {\n  class: \"mt-auto d-flex justify-content-between\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"text-success\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$props.item.poster_path ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n    src: `https://image.tmdb.org/t/p/w500${$props.item.poster_path}`,\n    alt: $props.item.title,\n    class: \"movie-poster card-img-top\"\n  }, null, 8, _hoisted_3)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _cache[2] || (_cache[2] = [_createElementVNode(\"span\", {\n    class: \"text-muted\"\n  }, \"Pas d'image disponible\", -1)]))), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h5\", _hoisted_6, _toDisplayString($props.item.title), 1), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"span\", null, _toDisplayString($props.item.year), 1), _createElementVNode(\"span\", null, [_createTextVNode(_toDisplayString($props.type === 'movie' ? 'Film' : 'Série') + \" • \", 1), _createElementVNode(\"span\", _hoisted_8, [_cache[3] || (_cache[3] = _createElementVNode(\"i\", {\n    class: \"fas fa-star\"\n  }, null, -1)), _createTextVNode(\" \" + _toDisplayString($props.item.rating.toFixed(1)), 1)])])]), _createElementVNode(\"p\", _hoisted_9, [_createElementVNode(\"small\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.item.genre, (genre, idx) => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: genre\n    }, _toDisplayString(genre) + _toDisplayString(idx < $props.item.genre.length - 1 ? ', ' : ''), 1);\n  }), 128))])]), $props.streamingServices && $props.streamingServices.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.streamingServices, service => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: service,\n      class: \"service-badge\"\n    }, _toDisplayString(service.charAt(0).toUpperCase() + service.slice(1)), 1);\n  }), 128))])) : _createCommentVNode(\"\", true), _createElementVNode(\"p\", _hoisted_11, _toDisplayString($options.truncateOverview($props.item.overview)), 1), _createElementVNode(\"div\", _hoisted_12, [!$props.inHistory ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addToHistory && $options.addToHistory(...args)),\n    class: \"btn btn-sm btn-outline-primary\"\n  }, \" Ajouter à mon historique \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_13, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"fas fa-check\"\n  }, null, -1), _createTextVNode(\" Dans votre historique \", -1)]))), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.showDetails && $options.showDetails(...args), [\"prevent\"])),\n    class: \"btn btn-sm btn-link\"\n  }, \" Plus de détails \")])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","$props","item","poster_path","_hoisted_2","_createElementVNode","src","alt","title","_hoisted_4","_cache","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","year","type","_hoisted_8","rating","toFixed","_hoisted_9","_Fragment","_renderList","genre","idx","key","length","streamingServices","_hoisted_10","service","charAt","toUpperCase","slice","_hoisted_11","$options","truncateOverview","overview","_hoisted_12","inHistory","onClick","args","addToHistory","_hoisted_13","href","_withModifiers","showDetails"],"sources":["/home/ubuntu/frontend/src/components/MovieCard.vue"],"sourcesContent":["<template>\n  <div class=\"card movie-card h-100\">\n    <!-- Poster image -->\n    <div v-if=\"item.poster_path\" class=\"poster-container\">\n      <img :src=\"`https://image.tmdb.org/t/p/w500${item.poster_path}`\" :alt=\"item.title\" class=\"movie-poster card-img-top\">\n    </div>\n    <div v-else class=\"movie-poster-placeholder card-img-top d-flex justify-content-center align-items-center bg-light\">\n      <span class=\"text-muted\">Pas d'image disponible</span>\n    </div>\n    \n    <div class=\"card-body d-flex flex-column\">\n      <h5 class=\"movie-title\">{{ item.title }}</h5>\n      \n      <div class=\"movie-info\">\n        <span>{{ item.year }}</span>\n        <span>\n          {{ type === 'movie' ? 'Film' : 'Série' }} • \n          <span class=\"star-rating\">\n            <i class=\"fas fa-star\"></i> {{ item.rating.toFixed(1) }}\n          </span>\n        </span>\n      </div>\n      \n      <p class=\"movie-genres mb-2\">\n        <small>\n          <span v-for=\"(genre, idx) in item.genre\" :key=\"genre\">\n            {{ genre }}{{ idx < item.genre.length - 1 ? ', ' : '' }}\n          </span>\n        </small>\n      </p>\n      \n      <div v-if=\"streamingServices && streamingServices.length > 0\" class=\"mb-2\">\n        <span v-for=\"service in streamingServices\" :key=\"service\" class=\"service-badge\">\n          {{ service.charAt(0).toUpperCase() + service.slice(1) }}\n        </span>\n      </div>\n      \n      <p class=\"movie-overview flex-grow-1\">{{ truncateOverview(item.overview) }}</p>\n      \n      <div class=\"mt-auto d-flex justify-content-between\">\n        <button v-if=\"!inHistory\" @click=\"addToHistory\" class=\"btn btn-sm btn-outline-primary\">\n          Ajouter à mon historique\n        </button>\n        <span v-else class=\"text-success\">\n          <i class=\"fas fa-check\"></i> Dans votre historique\n        </span>\n        \n        <a href=\"#\" @click.prevent=\"showDetails\" class=\"btn btn-sm btn-link\">\n          Plus de détails\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'MovieCard',\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'movie'\n    },\n    streamingServices: {\n      type: Array,\n      default: () => []\n    },\n    inHistory: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    truncateOverview(text) {\n      if (!text) return '';\n      return text.length > 100 ? text.substring(0, 100) + '...' : text;\n    },\n    addToHistory() {\n      this.$emit('add-to-history', {\n        id: this.item.id,\n        title: this.item.title,\n        poster_path: this.item.poster_path,\n        content_type: this.type,\n        rating: this.item.rating\n      });\n    },\n    showDetails() {\n      this.$emit('show-details', this.item);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.movie-poster {\n  height: 300px;\n  object-fit: cover;\n}\n\n.movie-poster-placeholder {\n  height: 300px;\n  background-color: #f8f9fa;\n}\n\n.movie-title {\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.movie-genres {\n  font-size: 0.85rem;\n  color: #6c757d;\n}\n\n.movie-overview {\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.service-badge {\n  display: inline-block;\n  background-color: #e9ecef;\n  color: #495057;\n  font-size: 0.8rem;\n  padding: 2px 8px;\n  border-radius: 16px;\n  margin-right: 5px;\n  margin-bottom: 5px;\n}\n\n.star-rating {\n  color: #ffc107;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}